"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[897],{4740:function(e,s,a){a.d(s,{C:function(){return r},T:function(){return n}});var i=a(5048),n=function(){return(0,i.I0)()},r=i.v9},5897:function(e,s,a){a.r(s),a.d(s,{SignUp:function(){return z}});var i=a(1413),n=a(4165),r=a(5861),l=a(885),o=a(2791),p=a(971),t=a(887),u=a(184),c=function(){var e=(0,p.Y)().data,s=(0,t.Gc)();return(0,u.jsxs)("div",{className:"position",children:[(0,u.jsx)("h3",{className:"position__subtitle",children:"Select your position"}),null===e||void 0===e?void 0:e.positions.map((function(e){return(0,u.jsxs)("label",{className:"position__radio",children:[(0,u.jsx)("input",(0,i.Z)({className:"position__radio-btn",type:"radio",value:e.id},s.register("position"))),e.name]},e.id)}))]})},d=a(1694),m=a.n(d),h=function(){var e,s,a=(0,t.Gc)(),n=a.watch,r=a.register,l=a.formState,o=n("photo"),p=l.errors;return(0,u.jsx)("div",{className:"upload",children:(0,u.jsxs)("label",{className:"upload__label",children:[(0,u.jsx)("span",{className:m()("upload__btn",{"upload__btn-error":p.photo}),children:"Upload"}),(0,u.jsx)("input",(0,i.Z)({className:"upload__input",type:"file"},r("photo"))),(0,u.jsx)("div",{className:m()("upload__filename-wrapper",{"upload__filename-wrapper-error":p.photo}),children:(0,u.jsx)("span",{className:"upload__filename ellipsis",children:o&&o.item(0)?null===(e=o.item(0))||void 0===e?void 0:e.name:"Upload your photo"})}),(0,u.jsx)("p",{className:"signup__error",children:null===(s=p.photo)||void 0===s?void 0:s.message})]})})},_=a(579);var x=a.p+"static/media/success-image.0d3202ba11b04fa7364b0f83ce42aea5.svg",g=a(3162),f=a(4695),j=a(56),v=["image/jpg","image/jpeg"],b=j.Ry().shape({name:j.Z_().min(2,"Too Short!").max(60,"Too Long!").required("This field is required"),phone:j.Z_().matches(/^[+]{0,1}380([0-9]{9})$/,"Invalid phone").required(),email:j.Z_().matches(/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,"Invalid email").max(100,"Too Long!").required("Required"),position:j.Z_().required("This field is required"),photo:j.nK().required("This field is required").test("fileSize","The photo size must not be greater than 5 Mb",(function(e){var s=e.item(0);return null!==s&&s.size>=5120})).test("fileFormat","The photo format must be jpeg/jpg type",(function(e){var s=e.item(0);return null!==s&&v.includes(s.type)}))}),N=a(4740),Z=a(2557),z=function(){var e,s,a,p=(0,_.Vx)(),d=(0,l.Z)(p,2),j=d[0],v=d[1],z=v.isLoading,y=v.isSuccess,S=v.error,T=(0,N.T)(),X=(0,o.useState)(""),q=(0,l.Z)(X,2),w=q[0],k=q[1],F=(0,t.cI)({mode:"onChange",resolver:(0,f.X)(b)}),C=F.register,I=F.formState,U=I.isValid,$=I.errors,L=F.handleSubmit,R=F.reset;(0,o.useEffect)((function(){y&&(R(),T((0,Z.B4)()),T((0,Z.O9)(1)),k("")),S&&"data"in S&&k(S.data.message)}),[y,S]);var V=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(s){var a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new FormData,i=s.photo,a.append("name",s.name),a.append("email",s.email),a.append("phone",s.phone),a.append("position_id",s.position),a.append("photo",i.item(0)),j(a).unwrap();case 8:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,u.jsx)("section",{className:"signup",id:"sign",children:(0,u.jsx)("div",{className:"container",children:y?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{className:"title",children:"User successfully registered"}),(0,u.jsx)("img",{className:"signup__success",src:x})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{className:"signup__title title",children:"Working with POST request"}),(0,u.jsx)(t.RV,(0,i.Z)((0,i.Z)({},F),{},{children:(0,u.jsxs)("form",{className:"signup__form",onSubmit:L(V),children:[(0,u.jsxs)("label",{className:"signup__label",htmlFor:"name",children:[(0,u.jsx)("input",(0,i.Z)({className:m()("signup__input",{"signup__input-error":$.name}),placeholder:" "},C("name"))),(0,u.jsx)("span",{className:m()("signup__placeholder",{"signup__placeholder-error":$.name}),children:"Your name"}),(0,u.jsx)("p",{className:"signup__error",children:null===(e=$.name)||void 0===e?void 0:e.message})]}),(0,u.jsxs)("label",{className:"signup__label",htmlFor:"email",children:[(0,u.jsx)("input",(0,i.Z)({className:m()("signup__input",{"signup__input-error":$.email||S}),placeholder:" "},C("email"))),(0,u.jsx)("span",{className:m()("signup__placeholder",{"signup__placeholder-error":$.email||S}),children:"Email"}),(0,u.jsx)("p",{className:"signup__error",children:(null===(s=$.email)||void 0===s?void 0:s.message)||w})]}),(0,u.jsxs)("label",{className:"signup__label",htmlFor:"phone",children:[(0,u.jsx)("input",(0,i.Z)({className:m()("signup__input",{"signup__input-error":$.phone||S}),placeholder:" "},C("phone"))),(0,u.jsx)("span",{className:m()("signup__placeholder",{"signup__placeholder-error":$.phone||S}),children:"Phone"}),(0,u.jsx)("span",{className:"signup__help-phone",children:"+38 (XXX) XXX - XX - XX"}),(0,u.jsx)("p",{className:"signup__error signup__error-phone",children:(null===(a=$.phone)||void 0===a?void 0:a.message)||w})]}),(0,u.jsx)(c,{}),(0,u.jsx)(h,{}),z?(0,u.jsx)(g.a,{}):(0,u.jsx)("button",{className:m()("signup__btn","lnk",{"lnk-disable":!U}),type:"submit",disabled:!U,children:"Sign up"})]})}))]})})})}}}]);
//# sourceMappingURL=897.d7774fb6.chunk.js.map